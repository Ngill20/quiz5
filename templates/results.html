{% extends "layout.html" %}
{% block content %}

<h2 class="mb-4 text-center">Query Results</h2>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="alert alert-info">
      {% for message in messages %}
        <p>{{ message }}</p>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

{% if tables %}
  <div class="table-responsive">
    {{ tables[0]|safe }}
  </div>

  {% if row_count is defined %}
    <p class="text-muted text-center mt-2">Total rows: {{ row_count }}</p>
  {% endif %}
{% else %}
  <p>No results to display.</p>
{% endif %}

<div class="text-center mt-4">
  <a href="{{ url_for('query') }}" class="btn btn-secondary">Back to Earthquakes Query</a><br>
  <a href="{{ url_for('index') }}" class="btn btn-outline-primary mt-2">Home</a>
</div>

{% endblock %}
